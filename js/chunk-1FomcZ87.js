import{a6 as e,c as l,W as a,X as t,aF as o,F as s,b0 as r,bO as u,aS as n,r as c,w as i,a as d,bg as p,u as m,bL as b,bB as v,U as f,bC as h,bA as x,a3 as w}from"./chunk-DItFX9tw.js";import{a as g,u as C,i as k,l as y,t as j,e as L,f as V}from"./chunk-B5qR3bqg.js";import{d as P}from"./chunk-T1cRhSFL.js";import{s as T}from"./chunk-CsYshFua.js";import{r as U}from"./chunk-uVf6gzKC.js";import{u as _}from"./chunk-B6HHG8fs.js";import{z as S}from"./chunk-DlbfUzrE.js";import"./chunk-ClxWGSjw.js";import"./chunk-DsPhSQSX.js";import"./chunk-COJDRNUs.js";import"./chunk-DUzMzk5W.js";import"./chunk-BcwQrg-K.js";import"./chunk-CjQQEEno.js";import"./chunk-q-ZagYLw.js";import"./chunk-B-qLbzZm.js";import"./chunk-VPk9p_S4.js";import"./chunk-DezxjiP8.js";import"./chunk-DNiUIIzL.js";import"./chunk-BvWJbea5.js";import"./chunk-DbPkkXUs.js";import"./chunk-DHt_odDz.js";import"./chunk-CktjyfsX.js";import"./chunk-DJ_qK68I.js";import"./chunk-D_4LoTOe.js";import"./chunk-Dx_SbwNq.js";import"./chunk-BedWOaN-.js";import"./chunk-C9x4uJuS.js";import"./chunk-B_AfaIMK.js";import"./chunk-Cdf2UZcj.js";const A={class:"w-full h-auto"},z=["onClick"],D=g(e({__name:"PatternSetting",props:{rowCount:{type:Number,default:17},cardColor:{type:String,default:"#fff"},patternColor:{type:String,default:"#000"},patternList:{type:Array,default:()=>[]}},setup(e){const c=e,i=l(()=>c);return(e,l)=>(n(),a("div",A,[t("ul",{class:"pattern-list",style:o({gridTemplateColumns:"repeat(".concat(i.value.rowCount,",1fr)")})},[(n(!0),a(s,null,r(7*i.value.rowCount,e=>(n(),a("li",{key:e,class:"w-5 h-5",style:o({backgroundColor:i.value.patternList.includes(e)?i.value.patternColor:i.value.cardColor}),onClick:u(l=>function(e,l){if(i.value.patternList.includes(l)){const e=i.value.patternList.indexOf(l);i.value.patternList.splice(e,1)}else i.value.patternList.push(l)}(0,e),["stop"])},null,12,z))),128))],4)]))}}),[["__scopeId","data-v-170dfa96"]]),I={class:"modal-box"},R={class:"text-lg font-bold"},N={class:"py-4"},q={class:"modal-action"},B={method:"dialog",class:"flex gap-3"},F={class:"mb-8"},O={class:"flex flex-row items-center w-full gap-24 mb-10 form-control"},H={class:""},W={class:"label"},M={class:"label-text"},X=["placeholder"],E={class:"flex flex-row items-center w-full gap-24 mb-10 form-control"},G={class:""},J={class:"label"},K={class:"label-text"},Q={class:"help"},Y={key:0,class:"text-sm text-red-400 help-text"},Z=["data-tip"],$=["disabled"],ee={class:"loading loading-ring loading-md"},le={class:"w-full max-w-xs form-control"},ae={class:"label"},te={class:"label-text"},oe={disabled:"",selected:""},se=["value"],re={class:"w-full max-w-xs form-control"},ue={class:"label"},ne={class:"label-text"},ce={disabled:"",selected:""},ie=["value"],de={class:"w-full max-w-xs form-control"},pe={class:"label"},me={class:"label-text"},be={disabled:"",selected:""},ve=["value"],fe={class:"w-full max-w-xs form-control"},he={class:"label"},xe={class:"label-text"},we={class:"w-full max-w-xs form-control"},ge={class:"label"},Ce={class:"label-text"},ke={class:"w-full max-w-xs form-control"},ye={class:"label"},je={class:"label-text"},Le={class:"flex flex-row w-full max-w-xs gap-10 mb-10 form-control"},Ve={class:"label"},Pe={class:"label-text"},Te={class:"label"},Ue={class:"label-text"},_e={class:"w-full max-w-xs mb-10 form-control"},Se={class:"label"},Ae={class:"label-text"},ze={class:"w-full max-w-xs form-control"},De={class:"label"},Ie={class:"label-text"},Re={class:"flex flex-row items-center w-full gap-24 mb-0 form-control"},Ne={class:"label"},qe={class:"label-text"},Be={class:"h-auto"},Fe={class:"flex w-full h-24 gap-3 m-0"},Oe=["data-tip"],He={class:"w-full max-w-xs mb-10 form-control"},We={class:"label"},Me={class:"label-text"},Xe=["checked"],Ee={class:"w-full max-w-xs mb-10 form-control"},Ge={class:"label"},Je={class:"label-text"},Ke=["checked"],Qe=e({__name:"FaceConfig",setup(e){const{t:l}=_(),o=C().globalConfig,g=C().personConfig,A=C().prizeConfig,{getTopTitle:z,getTheme:Qe,getPatterColor:Ye,getPatternList:Ze,getCardColor:$e,getLuckyColor:el,getTextColor:ll,getCardSize:al,getTextSize:tl,getRowCount:ol,getIsShowPrizeList:sl,getLanguage:rl,getBackground:ul,getImageList:nl,getIsShowAvatar:cl}=T(o),{getAlreadyPersonList:il,getNotPersonList:dl}=T(g),pl=c(),ml=c(),bl=c(0),vl=c(Qe.value.name),fl=c(structuredClone(z.value)),hl=c(structuredClone($e.value)),xl=c(structuredClone(el.value)),wl=c(structuredClone(ll.value)),gl=c(structuredClone(al.value)),Cl=c(structuredClone(tl.value)),kl=c(structuredClone(ol.value)),yl=c(structuredClone(rl.value)),jl=c(structuredClone(sl.value)),Ll=c(structuredClone(cl.value)),Vl=c(structuredClone(Ye.value)),Pl=c(Object.keys(P)),Tl=c(P),Ul=c(ul.value),_l=c({rowCount:kl}),Sl=c({rowCount:""}),Al=S.object({rowCount:S.number({required_error:k.global.t("error.require"),invalid_type_error:k.global.t("error.requireNumber")}).min(1,k.global.t("error.minNumber1")).max(100,k.global.t("error.maxNumber100"))}),zl={rowCount:_l.value.rowCount};function Dl(){bl.value=2,setTimeout(()=>{const e=il.value.length,l=dl.value.length;if(e<=0&&l<=0)return;const a=il.value.concat(dl.value),t=a.slice(0,e),o=a.slice(e,l+e);g.deleteAllPerson(),g.addNotPersonList(o),g.addAlreadyPersonList(t,null),bl.value=0},1e3)}function Il(){o.setPatternList([])}function Rl(){o.resetPatternList()}function Nl(){o.reset(),g.reset(),A.resetDefault(),window.location.reload()}return i(()=>_l.value.rowCount,()=>{var e;zl.rowCount=_l.value.rowCount,(e=zl,Al.parseAsync(e)).then(e=>{e.rowCount&&(bl.value=1,o.setRowCount(e.rowCount))}).catch(e=>{Sl.value.rowCount=e.issues[0].message})}),i(fl,e=>{o.setTopTitle(e)}),i(vl,e=>{const l=Tl.value[e];o.setTheme({name:e,detail:l}),j(e),l.primary&&(L(l.primary)||V(l.primary))&&o.setCardColor(l.primary)},{deep:!0}),i(hl,e=>{o.setCardColor(e)},{deep:!0}),i(xl,e=>{o.setLuckyCardColor(e)},{deep:!0}),i(Vl,e=>{o.setPatterColor(e)}),i(wl,e=>{o.setTextColor(e)},{deep:!0}),i(gl,e=>{o.setCardSize(e)},{deep:!0}),i(jl,()=>{o.setIsShowPrizeList(jl.value)}),i(Ul,e=>{o.setBackground(e)}),i(yl,e=>{o.setLanguage(e)}),i(Ll,()=>{o.setIsShowAvatar(Ll.value)}),d(()=>{}),(e,o)=>(n(),a(s,null,[t("dialog",{id:"my_modal_1",ref_key:"resetDataDialogRef",ref:ml,class:"border-none modal"},[t("div",I,[t("h3",R,p(m(l)("dialog.titleTip")),1),t("p",N,p(m(l)("dialog.dialogResetAllData")),1),t("div",q,[t("form",B,[t("button",{class:"btn",onClick:o[0]||(o[0]=e=>ml.value.close())},p(m(l)("button.cancel")),1),t("button",{class:"btn",onClick:Nl},p(m(l)("button.confirm")),1)])])])],512),t("div",null,[t("h2",null,p(m(l)("viewTitle.globalSetting")),1),t("div",F,[t("button",{class:"btn btn-sm btn-primary",onClick:o[1]||(o[1]=e=>ml.value.showModal())},p(m(l)("button.resetAllData")),1)]),t("label",O,[t("div",H,[t("div",W,[t("span",M,p(m(l)("table.title")),1)]),b(t("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>fl.value=e),type:"text",placeholder:m(l)("placeHolder.enterTitle"),class:"w-full max-w-xs input input-bordered"},null,8,X),[[v,fl.value]])])]),t("label",E,[t("div",G,[t("div",J,[t("span",K,p(m(l)("table.columnNumber")),1)]),b(t("input",{"onUpdate:modelValue":o[3]||(o[3]=e=>_l.value.rowCount=e),type:"number",placeholder:"Type here",class:"w-full max-w-xs input input-bordered"},null,512),[[v,_l.value.rowCount]]),t("div",Q,[Sl.value.rowCount?(n(),a("span",Y,p(Sl.value.rowCount),1)):f("",!0)])]),t("div",null,[t("div",{class:"tooltip","data-tip":m(l)("tooltip.resetLayout")},[t("button",{class:"mt-5 btn btn-info btn-sm",disabled:1!==bl.value,onClick:Dl},[t("span",null,p(m(l)("button.setLayout")),1),b(t("span",ee,null,512),[[h,2===bl.value]])],8,$)],8,Z)])]),t("label",le,[t("div",ae,[t("span",te,p(m(l)("table.language")),1)]),b(t("select",{"onUpdate:modelValue":o[4]||(o[4]=e=>yl.value=e),"data-choose-theme":"",class:"w-full max-w-xs border-solid select border-1"},[t("option",oe,p(m(l)("table.language")),1),(n(!0),a(s,null,r(m(y),e=>(n(),a("option",{key:e.key,value:e.key},p(e.name),9,se))),128))],512),[[x,yl.value]])]),t("label",re,[t("div",ue,[t("span",ne,p(m(l)("table.theme")),1)]),b(t("select",{"onUpdate:modelValue":o[5]||(o[5]=e=>vl.value=e),"data-choose-theme":"",class:"w-full max-w-xs border-solid select border-1"},[t("option",ce,p(m(l)("table.theme")),1),(n(!0),a(s,null,r(Pl.value,(e,l)=>(n(),a("option",{key:l,value:e},p(e),9,ie))),128))],512),[[x,vl.value]])]),t("label",de,[t("div",pe,[t("span",me,p(m(l)("table.backgroundImage")),1)]),b(t("select",{"onUpdate:modelValue":o[6]||(o[6]=e=>Ul.value=e),"data-choose-theme":"",class:"w-full max-w-xs border-solid select border-1"},[t("option",be,p(m(l)("table.backgroundImage")),1),(n(!0),a(s,null,r([{name:"âŒ",url:"",id:""},...m(nl)],(e,l)=>(n(),a("option",{key:l,value:e},p(e.name),9,ve))),128))],512),[[x,Ul.value]])]),t("label",fe,[t("div",he,[t("span",xe,p(m(l)("table.cardColor")),1)]),w(m(U),{ref_key:"colorPickerRef",ref:pl,modelValue:hl.value,"onUpdate:modelValue":o[7]||(o[7]=e=>hl.value=e),"pure-color":hl.value,"onUpdate:pureColor":o[8]||(o[8]=e=>hl.value=e)},null,8,["modelValue","pure-color"])]),t("label",we,[t("div",ge,[t("span",Ce,p(m(l)("table.winnerColor")),1)]),w(m(U),{ref_key:"colorPickerRef",ref:pl,modelValue:xl.value,"onUpdate:modelValue":o[9]||(o[9]=e=>xl.value=e),"pure-color":xl.value,"onUpdate:pureColor":o[10]||(o[10]=e=>xl.value=e)},null,8,["modelValue","pure-color"])]),t("label",ke,[t("div",ye,[t("span",je,p(m(l)("table.textColor")),1)]),w(m(U),{ref_key:"colorPickerRef",ref:pl,modelValue:wl.value,"onUpdate:modelValue":o[11]||(o[11]=e=>wl.value=e),"pure-color":wl.value,"onUpdate:pureColor":o[12]||(o[12]=e=>wl.value=e)},null,8,["modelValue","pure-color"])]),t("label",Le,[t("div",null,[t("div",Ve,[t("span",Pe,p(m(l)("table.cardWidth")),1)]),b(t("input",{"onUpdate:modelValue":o[13]||(o[13]=e=>gl.value.width=e),type:"number",placeholder:"Type here",class:"w-full max-w-xs input input-bordered"},null,512),[[v,gl.value.width]])]),t("div",null,[t("div",Te,[t("span",Ue,p(m(l)("table.cardHeight")),1)]),b(t("input",{"onUpdate:modelValue":o[14]||(o[14]=e=>gl.value.height=e),type:"number",placeholder:"Type here",class:"w-full max-w-xs input input-bordered"},null,512),[[v,gl.value.height]])])]),t("label",_e,[t("div",Se,[t("span",Ae,p(m(l)("table.textSize")),1)]),b(t("input",{"onUpdate:modelValue":o[15]||(o[15]=e=>Cl.value=e),type:"number",placeholder:"Type here",class:"w-full max-w-xs input input-bordered"},null,512),[[v,Cl.value]])]),t("label",ze,[t("div",De,[t("span",Ie,p(m(l)("table.highlightColor")),1)]),w(m(U),{ref_key:"colorPickerRef",ref:pl,modelValue:Vl.value,"onUpdate:modelValue":o[16]||(o[16]=e=>Vl.value=e),"pure-color":Vl.value,"onUpdate:pureColor":o[17]||(o[17]=e=>Vl.value=e)},null,8,["modelValue","pure-color"])]),t("label",Re,[t("div",null,[t("div",Ne,[t("span",qe,p(m(l)("table.patternSetting")),1)]),t("div",Be,[w(D,{"row-count":m(ol),"card-color":m($e),"pattern-color":m(Ye),"pattern-list":m(Ze)},null,8,["row-count","card-color","pattern-color","pattern-list"])])])]),t("div",Fe,[t("button",{class:"mt-5 btn btn-info btn-sm",onClick:u(Il,["stop"])},[t("span",null,p(m(l)("button.clearPattern")),1)]),t("div",{class:"tooltip","data-tip":m(l)("tooltip.defaultLayout")},[t("button",{class:"mt-5 btn btn-info btn-sm",onClick:Rl},[t("span",null,p(m(l)("button.DefaultPattern")),1)])],8,Oe)]),t("label",He,[t("div",We,[t("span",Me,p(m(l)("table.alwaysDisplay")),1)]),t("input",{type:"checkbox",checked:jl.value,class:"mt-2 border-solid checkbox checkbox-secondary border-1",onChange:o[18]||(o[18]=e=>jl.value=!jl.value)},null,40,Xe)]),t("label",Ee,[t("div",Ge,[t("span",Je,p(m(l)("table.avatarDisplay")),1)]),t("input",{type:"checkbox",checked:Ll.value,onChange:o[19]||(o[19]=e=>Ll.value=!Ll.value),class:"mt-2 border-solid checkbox checkbox-secondary border-1"},null,40,Ke)])])],64))}});export{Qe as default};
