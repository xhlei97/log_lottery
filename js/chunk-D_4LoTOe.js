var t;(t=t||{}).stringify=function(){var t={"visit_linear-gradient":function(i){return t.visit_gradient(i)},"visit_repeating-linear-gradient":function(i){return t.visit_gradient(i)},"visit_radial-gradient":function(i){return t.visit_gradient(i)},"visit_repeating-radial-gradient":function(i){return t.visit_gradient(i)},visit_gradient:function(i){var r=t.visit(i.orientation);return r&&(r+=", "),i.type+"("+r+t.visit(i.colorStops)+")"},visit_shape:function(i){var r=i.value,n=t.visit(i.at),e=t.visit(i.style);return e&&(r+=" "+e),n&&(r+=" at "+n),r},"visit_default-radial":function(i){var r="",n=t.visit(i.at);return n&&(r+=n),r},"visit_extent-keyword":function(i){var r=i.value,n=t.visit(i.at);return n&&(r+=" at "+n),r},"visit_position-keyword":function(t){return t.value},visit_position:function(i){return t.visit(i.value.x)+" "+t.visit(i.value.y)},"visit_%":function(t){return t.value+"%"},visit_em:function(t){return t.value+"em"},visit_px:function(t){return t.value+"px"},visit_calc:function(t){return"calc("+t.value+")"},visit_literal:function(i){return t.visit_color(i.value,i)},visit_hex:function(i){return t.visit_color("#"+i.value,i)},visit_rgb:function(i){return t.visit_color("rgb("+i.value.join(", ")+")",i)},visit_rgba:function(i){return t.visit_color("rgba("+i.value.join(", ")+")",i)},visit_hsl:function(i){return t.visit_color("hsl("+i.value[0]+", "+i.value[1]+"%, "+i.value[2]+"%)",i)},visit_hsla:function(i){return t.visit_color("hsla("+i.value[0]+", "+i.value[1]+"%, "+i.value[2]+"%, "+i.value[3]+")",i)},visit_var:function(i){return t.visit_color("var("+i.value+")",i)},visit_color:function(i,r){var n=i,e=t.visit(r.length);return e&&(n+=" "+e),n},visit_angular:function(t){return t.value+"deg"},visit_directional:function(t){return"to "+t.value},visit_array:function(i){var r="",n=i.length;return i.forEach(function(i,e){r+=t.visit(i),e<n-1&&(r+=", ")}),r},visit_object:function(i){return i.width&&i.height?t.visit(i.width)+" "+t.visit(i.height):""},visit:function(i){if(!i)return"";if(i instanceof Array)return t.visit_array(i);if("object"!=typeof i||i.type){if(i.type){var r=t["visit_"+i.type];if(r)return r(i);throw Error("Missing visitor visit_"+i.type)}throw Error("Invalid node.")}return t.visit_object(i)}};return function(i){return t.visit(i)}}(),(t=t||{}).parse=function(){var t=/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,i=/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,r=/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,n=/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,e=/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,a=/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,u=/^(left|center|right|top|bottom)/i,o=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,s=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,v=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,l=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,c=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))rad/,f=/^\(/,g=/^\)/,p=/^,/,d=/^\#([0-9a-fA-F]+)/,h=/^([a-zA-Z]+)/,_=/^rgb/i,y=/^rgba/i,b=/^var/i,m=/^calc/i,x=/^(--[a-zA-Z0-9-,\s\#]+)/,w=/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/,k=/^hsl/i,E=/^hsla/i,z="";function A(t){var i=new Error(z+": "+t);throw i.source=z,i}function M(){var t=q(S);return z.length>0&&A("Invalid input not EOF"),t}function S(){return j("linear-gradient",t,L)||j("repeating-linear-gradient",i,L)||j("radial-gradient",r,F)||j("repeating-radial-gradient",n,F)}function j(t,i,r){return H(i,function(i){var n=r();return n&&(N(p)||A("Missing comma before color stops")),{type:t,orientation:n,colorStops:q(B)}})}function H(t,i){var r=N(t);if(r){N(f)||A("Missing (");var n=i(r);return N(g)||A("Missing )"),n}}function L(){var t=K("directional",e,1);if(t)return t;var i=K("position-keyword",u,1);return i?{type:"directional",value:i.value}:K("angular",l,1)||K("angular",c,1)}function F(){var t,i,r=I();return r&&((t=[]).push(r),i=z,N(p)&&((r=I())?t.push(r):z=i)),t}function I(){var t=function(){var t=K("shape",/^(circle)/i,0);t&&(t.style=J()||O());return t}()||function(){var t=K("shape",/^(ellipse)/i,0);t&&(t.style=W()||G()||O());return t}();if(t)t.at=Z();else{var i=O();if(i){t=i;var r=Z();r&&(t.at=r)}else{var n=Z();if(n)t={type:"default-radial",at:n};else{var e=W();e&&(t={type:"default-radial",at:e})}}}return t}function O(){return K("extent-keyword",a,1)}function Z(){if(K("position",/^at/,0)){var t=W();return t||A("Missing positioning value"),t}}function W(){var t={x:G(),y:G()};if(t.x||t.y)return{type:"position",value:t}}function q(t){var i=t(),r=[];if(i)for(r.push(i);N(p);)(i=t())?r.push(i):A("One extra comma");return r}function B(){var t=K("hex",d,1)||H(E,function(){var t=D();N(p);var i=N(s),r=i?i[1]:null;N(p);var n=(i=N(s))?i[1]:null;N(p);var e=D();return r&&n||A("Expected percentage value for saturation and lightness in HSLA"),{type:"hsla",value:[t,r,n,e]}})||H(k,function(){N(s)&&A("HSL hue value must be a number in degrees (0-360) or normalized (-360 to 360), not a percentage");var t=D();N(p);var i=N(s),r=i?i[1]:null;N(p);var n=(i=N(s))?i[1]:null;return r&&n||A("Expected percentage value for saturation and lightness in HSL"),{type:"hsl",value:[t,r,n]}})||H(y,function(){return{type:"rgba",value:q(D)}})||H(_,function(){return{type:"rgb",value:q(D)}})||H(b,function(){return{type:"var",value:C()}})||K("literal",h,0);return t||A("Expected color definition"),t.length=G(),t}function C(){return N(x)[1]}function D(){return N(w)[1]}function G(){return K("%",s,1)||K("position-keyword",u,1)||H(m,function(){for(var t=1,i=0;t>0&&i<z.length;){var r=z.charAt(i);"("===r?t++:")"===r&&t--,i++}t>0&&A("Missing closing parenthesis in calc() expression");var n=z.substring(0,i-1);return P(i-1),{type:"calc",value:n}})||J()}function J(){return K("px",o,1)||K("em",v,1)}function K(t,i,r){var n=N(i);if(n)return{type:t,value:n[r]}}function N(t){var i,r;return(r=/^[\n\r\t\s]+/.exec(z))&&P(r[0].length),(i=t.exec(z))&&P(i[0].length),i}function P(t){z=z.substr(t)}return function(t){return(z=t.toString().trim()).endsWith(";")&&(z=z.slice(0,-1)),M()}}();var i=t.parse,r=t.stringify;export{i as p,r as s};
