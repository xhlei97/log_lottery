System.register(["./chunk-legacy-CjKVZ1bp.js","./chunk-legacy-uhuF54xz.js","./chunk-legacy-UkeXD8iB.js","./chunk-legacy-BWJusyaM.js","./chunk-legacy-PVEcv5sZ.js","./chunk-legacy-BE-5mc7C.js","./chunk-legacy---gJkrHA.js","./chunk-legacy-C9K0maxy.js","./chunk-legacy-D3_pZ24x.js","./chunk-legacy-BMwARiCp.js","./chunk-legacy-BYgEWu8h.js","./chunk-legacy-CflmvWUy.js","./chunk-legacy-BYxAk2dU.js","./chunk-legacy-CRCEXRIn.js","./chunk-legacy-CNvc6cwk.js","./chunk-legacy-DEnXqUFR.js","./chunk-legacy-aREB5_Re.js","./chunk-legacy-KQLpz-uR.js","./chunk-legacy-DqbqP-9V.js","./chunk-legacy-B_CkxUCE.js","./chunk-legacy-C72SkqAC.js"],function(n,e){"use strict";var l,t,c,a,s,u,i,o,r,g,y,b,k,h,p;return{setters:[n=>{l=n.u},n=>{t=n.a},n=>{c=n.l},n=>{a=n.s},n=>{s=n.u},n=>{u=n.a6,i=n.r,o=n.a,r=n.W,g=n.X,y=n.bg,b=n.u,k=n.F,h=n.b0,p=n.aS},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const e={class:"flex gap-3"},d={for:"explore"},m=["accept"],f={class:"btn btn-primary btn-sm"},j={class:"p-0"},v={class:"mr-12 overflow-hidden w-72 whitespace-nowrap text-ellipsis"},x={class:"flex gap-3"},C=["onClick"],w=["onClick"];n("default",u({__name:"MusicConfig",setup(n){const{t:u}=s(),M=i(0),S=c.createInstance({name:"audioStore"}),D=l().globalConfig,{getMusicList:I}=a(D),L=i("audio/*"),N=i(I);function T(){D.resetMusicList(),S.clear()}function $(){D.clearMusicList(),S.clear()}async function _(){(await S.keys()).length>0&&S.iterate((n,e)=>{D.addMusic({id:e+(new Date).getTime().toString(),name:e,url:"Storage"})})}async function q(n){if(!/audio*/.test(n.target.files[0].type))return void(M.value=3);const{dataUrl:e,fileName:l}=await t(n.target.files[0]);S.setItem(`${(new Date).getTime().toString()}+${l}`,e).then(()=>{M.value=1,_()}).catch(()=>{M.value=2})}return o(()=>{_()}),(n,l)=>(p(),r("div",null,[g("div",e,[g("button",{class:"btn btn-primary btn-sm",onClick:T},y(b(u)("button.reset")),1),g("label",d,[g("input",{id:"explore",type:"file",class:"",style:{display:"none"},accept:L.value,onChange:q},null,40,m),g("span",f,y(b(u)("button.upload")),1)]),g("button",{class:"btn btn-error btn-sm",onClick:$},y(b(u)("button.allDelete")),1)]),g("div",null,[g("ul",j,[(p(!0),r(k,null,h(N.value,n=>(p(),r("li",{key:n.id,class:"flex items-center gap-6 pb-2 mb-3 divide-y"},[g("div",v,[g("span",null,y(n.name),1)]),g("div",x,[g("button",{class:"btn btn-primary btn-xs",onClick:e=>async function(n){D.setCurrentMusic(n,!1)}(n)},y(b(u)("button.play")),9,C),g("button",{class:"btn btn-error btn-xs",onClick:e=>function(n){D.removeMusic(n.id),S.removeItem(n.name)}(n)},y(b(u)("button.delete")),9,w)])]))),128))])])]))}}))}}});
