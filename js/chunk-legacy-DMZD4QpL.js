System.register([],function(t,i){"use strict";return{execute:function(){var i,r;(r=r||{}).stringify=(i={"visit_linear-gradient":function(t){return i.visit_gradient(t)},"visit_repeating-linear-gradient":function(t){return i.visit_gradient(t)},"visit_radial-gradient":function(t){return i.visit_gradient(t)},"visit_repeating-radial-gradient":function(t){return i.visit_gradient(t)},visit_gradient:function(t){var r=i.visit(t.orientation);return r&&(r+=", "),t.type+"("+r+i.visit(t.colorStops)+")"},visit_shape:function(t){var r=t.value,n=i.visit(t.at),e=i.visit(t.style);return e&&(r+=" "+e),n&&(r+=" at "+n),r},"visit_default-radial":function(t){var r="",n=i.visit(t.at);return n&&(r+=n),r},"visit_extent-keyword":function(t){var r=t.value,n=i.visit(t.at);return n&&(r+=" at "+n),r},"visit_position-keyword":function(t){return t.value},visit_position:function(t){return i.visit(t.value.x)+" "+i.visit(t.value.y)},"visit_%":function(t){return t.value+"%"},visit_em:function(t){return t.value+"em"},visit_px:function(t){return t.value+"px"},visit_calc:function(t){return"calc("+t.value+")"},visit_literal:function(t){return i.visit_color(t.value,t)},visit_hex:function(t){return i.visit_color("#"+t.value,t)},visit_rgb:function(t){return i.visit_color("rgb("+t.value.join(", ")+")",t)},visit_rgba:function(t){return i.visit_color("rgba("+t.value.join(", ")+")",t)},visit_hsl:function(t){return i.visit_color("hsl("+t.value[0]+", "+t.value[1]+"%, "+t.value[2]+"%)",t)},visit_hsla:function(t){return i.visit_color("hsla("+t.value[0]+", "+t.value[1]+"%, "+t.value[2]+"%, "+t.value[3]+")",t)},visit_var:function(t){return i.visit_color("var("+t.value+")",t)},visit_color:function(t,r){var n=t,e=i.visit(r.length);return e&&(n+=" "+e),n},visit_angular:function(t){return t.value+"deg"},visit_directional:function(t){return"to "+t.value},visit_array:function(t){var r="",n=t.length;return t.forEach(function(t,e){r+=i.visit(t),e<n-1&&(r+=", ")}),r},visit_object:function(t){return t.width&&t.height?i.visit(t.width)+" "+i.visit(t.height):""},visit:function(t){if(!t)return"";if(t instanceof Array)return i.visit_array(t);if("object"!=typeof t||t.type){if(t.type){var r=i["visit_"+t.type];if(r)return r(t);throw Error("Missing visitor visit_"+t.type)}throw Error("Invalid node.")}return i.visit_object(t)}},function(t){return i.visit(t)}),(r=r||{}).parse=function(){var t=/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,i=/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,r=/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,n=/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,e=/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,a=/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,u=/^(left|center|right|top|bottom)/i,o=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,s=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,v=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,l=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,c=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))rad/,f=/^\(/,g=/^\)/,p=/^,/,d=/^\#([0-9a-fA-F]+)/,h=/^([a-zA-Z]+)/,_=/^rgb/i,y=/^rgba/i,m=/^var/i,b=/^calc/i,x=/^(--[a-zA-Z0-9-,\s\#]+)/,w=/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/,k=/^hsl/i,E=/^hsla/i,z="";function S(t){var i=new Error(z+": "+t);throw i.source=z,i}function A(){var t=q(M);return z.length>0&&S("Invalid input not EOF"),t}function M(){return j("linear-gradient",t,L)||j("repeating-linear-gradient",i,L)||j("radial-gradient",r,F)||j("repeating-radial-gradient",n,F)}function j(t,i,r){return H(i,function(i){var n=r();return n&&(N(p)||S("Missing comma before color stops")),{type:t,orientation:n,colorStops:q(B)}})}function H(t,i){var r=N(t);if(r){N(f)||S("Missing (");var n=i(r);return N(g)||S("Missing )"),n}}function L(){var t=K("directional",e,1);if(t)return t;var i=K("position-keyword",u,1);return i?{type:"directional",value:i.value}:K("angular",l,1)||K("angular",c,1)}function F(){var t,i,r=I();return r&&((t=[]).push(r),i=z,N(p)&&((r=I())?t.push(r):z=i)),t}function I(){var t,i,r=((i=K("shape",/^(circle)/i,0))&&(i.style=J()||O()),i||((t=K("shape",/^(ellipse)/i,0))&&(t.style=W()||G()||O()),t));if(r)r.at=Z();else{var n=O();if(n){r=n;var e=Z();e&&(r.at=e)}else{var a=Z();if(a)r={type:"default-radial",at:a};else{var u=W();u&&(r={type:"default-radial",at:u})}}}return r}function O(){return K("extent-keyword",a,1)}function Z(){if(K("position",/^at/,0)){var t=W();return t||S("Missing positioning value"),t}}function W(){var t={x:G(),y:G()};if(t.x||t.y)return{type:"position",value:t}}function q(t){var i=t(),r=[];if(i)for(r.push(i);N(p);)(i=t())?r.push(i):S("One extra comma");return r}function B(){var t=K("hex",d,1)||H(E,function(){var t=D();N(p);var i=N(s),r=i?i[1]:null;N(p);var n=(i=N(s))?i[1]:null;N(p);var e=D();return r&&n||S("Expected percentage value for saturation and lightness in HSLA"),{type:"hsla",value:[t,r,n,e]}})||H(k,function(){N(s)&&S("HSL hue value must be a number in degrees (0-360) or normalized (-360 to 360), not a percentage");var t=D();N(p);var i=N(s),r=i?i[1]:null;N(p);var n=(i=N(s))?i[1]:null;return r&&n||S("Expected percentage value for saturation and lightness in HSL"),{type:"hsl",value:[t,r,n]}})||H(y,function(){return{type:"rgba",value:q(D)}})||H(_,function(){return{type:"rgb",value:q(D)}})||H(m,function(){return{type:"var",value:C()}})||K("literal",h,0);return t||S("Expected color definition"),t.length=G(),t}function C(){return N(x)[1]}function D(){return N(w)[1]}function G(){return K("%",s,1)||K("position-keyword",u,1)||H(b,function(){for(var t=1,i=0;t>0&&i<z.length;){var r=z.charAt(i);"("===r?t++:")"===r&&t--,i++}t>0&&S("Missing closing parenthesis in calc() expression");var n=z.substring(0,i-1);return P(i-1),{type:"calc",value:n}})||J()}function J(){return K("px",o,1)||K("em",v,1)}function K(t,i,r){var n=N(i);if(n)return{type:t,value:n[r]}}function N(t){var i,r;return(r=/^[\n\r\t\s]+/.exec(z))&&P(r[0].length),(i=t.exec(z))&&P(i[0].length),i}function P(t){z=z.substr(t)}return function(t){return(z=t.toString().trim()).endsWith(";")&&(z=z.slice(0,-1)),A()}}(),t("p",r.parse),t("s",r.stringify)}}});
