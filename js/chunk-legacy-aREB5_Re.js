System.register(["./chunk-legacy---gJkrHA.js"],function(t,e){"use strict";var s,i,r,a,n,o;return{setters:[t=>{s=t.E,i=t.M,r=t.Q,a=t.V,n=t.O,o=t.a}],execute:function(){class e extends o{constructor(t){super(),this.element=t,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.addEventListener("removed",()=>{this.traverse(t=>{t instanceof e&&t.element instanceof Element&&null!==t.element.parentNode&&t.element.parentNode.removeChild(t.element)})})}copy(t,e){return o.prototype.copy.call(this,t,e),this.element=t.element.cloneNode(!0),this}}t("a",e);class l extends e{constructor(t,e=1){super(t),this.spriteRatio=e,this.spriteMatrixWorld=(new i).copy(this.matrixWorld)}}t("C",class extends s{zOrder(t){const{cache:e}=this,s=[];t.traverse(t=>{const i=t;e.objects.has(i)&&s.push({object:i,data:e.objects.get(i)})});const i=s.sort((t,e)=>t.data.distanceToCameraSquared-e.data.distanceToCameraSquared),r=i.length;i.forEach((t,e)=>{const{object:s}=t;s.element.style.zIndex=""+(r-e)})}constructor(){super(),this._width=0,this._height=0,this._widthHalf=0,this._heightHalf=0,this.matrix=new i,this._spriteQuat=new r,this._objectQuat=new r,this.cache={camera:{fov:0,style:""},objects:new WeakMap},this.epsilon=t=>Math.abs(t)<1e-10?0:t,this.getDistanceToSquared=function(){const t=new a,e=new a;return function(s,i){return t.setFromMatrixPosition(s.matrixWorld),e.setFromMatrixPosition(i.matrixWorld),t.distanceToSquared(e)}}(),this.getCameraCSSMatrix=(t,e,s)=>{const{epsilon:i}=this,{elements:r}=t,a=`matrix3d(${i(r[0])},${i(-r[1])},${i(r[2])},${i(r[3])},${i(r[4])},${i(-r[5])},${i(r[6])},${i(r[7])},${i(r[8])},${i(-r[9])},${i(r[10])},${i(r[11])},${i(r[12])},${i(-r[13])},${i(r[14])},${i(r[15])})`;if(e instanceof n){const t=-(e.right+e.left)/2,r=(e.top+e.bottom)/2;return`scale(${s})translate(${i(t)}px,${i(r)}px)${a}`}return`translateZ(${s}px)${a}`},this.getObjectCSSMatrix=(t,e)=>{const{epsilon:s}=this,{elements:i}=t,r=`matrix3d(${s(i[0])},${s(i[1])},${s(i[2])},${s(i[3])},${s(-i[4])},${s(-i[5])},${s(-i[6])},${s(-i[7])},${s(i[8])},${s(i[9])},${s(i[10])},${s(i[11])},${s(i[12])},${s(i[13])},${s(i[14])},${s(i[15])})`;return this.isIE?`translate(-50%,-50%)translate(${this._widthHalf}px,${this._heightHalf}px)${e}${r}`:`translate(-50%,-50%)${r}`},this.renderObject=(t,s,i,r)=>{const{matrix:a,getObjectCSSMatrix:n,cache:o,cameraElement:h,renderObject:c,isIE:d,getDistanceToSquared:m}=this;if(t instanceof e){let e;t.onBeforeRender(this,s,i),t instanceof l?(a.copy(i.matrixWorldInverse),a.transpose(),this._spriteQuat.setFromRotationMatrix(a),this._objectQuat.setFromRotationMatrix(t.matrixWorld),this._objectQuat.slerp(this._spriteQuat,t.spriteRatio),a.makeRotationFromQuaternion(this._objectQuat),a.copyPosition(t.matrixWorld),a.scale(t.scale),a.elements[3]=0,a.elements[7]=0,a.elements[11]=0,a.elements[15]=1,t.spriteMatrixWorld.copy(a),e=n(a,r)):e=n(t.matrixWorld,r);const{element:c}=t,p=o.objects.get(t);if(void 0===p||p.style!==e){c.style.transform=e;const s={style:e};o.objects.set(t,s),d&&(s.distanceToCameraSquared=m(i,t))}c.style.display=t.visible?"":"none",c.parentNode!==h&&h.appendChild(c),t.onAfterRender(this,s,i)}for(let e=0,l=t.children.length;e<l;e++)c(t.children[e],s,i,r)};const t=document.createElement("div");this.domElement=t,t.style.overflow="hidden";const s=document.createElement("div");this.cameraElement=s,s.style.transformStyle="preserve-3d",t.appendChild(s),this.isIE=/Trident/i.test(navigator.userAgent)}setClearColor(){}getSize(){return{width:this._width,height:this._height}}setSize(t,e){this._width=t,this._height=e,this._widthHalf=this._width/2,this._heightHalf=this._height/2,this.domElement.style.width=`${t}px`,this.domElement.style.height=`${e}px`,this.cameraElement.style.width=`${t}px`,this.cameraElement.style.height=`${e}px`}render(t,e){const{_heightHalf:s,_widthHalf:i,isIE:r,cameraElement:a,cache:n,domElement:o,getCameraCSSMatrix:l,zOrder:h,renderObject:c}=this,d=e.projectionMatrix.elements[5]*s;n.camera.fov!==d&&(o.style.perspective=`${d}px`,n.camera.fov=d),(t.matrixAutoUpdate&&!0===t.matrixAutoUpdate||!0===t.autoUpdate)&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld();const m=l(e.matrixWorldInverse,e,d),p=`${m}translate(${i}px,${s}px)`;n.camera.style===p||r||(a.style.transform=p,n.camera.style=p),c(t,t,e,m),r&&h(t)}})}}});
